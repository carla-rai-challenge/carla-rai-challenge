<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="description" content="Documentation for Hugo Learn Theme">
<meta name="author" content="Mathieu Cornic">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Submitting an Agent :: Documentation for Hugo Learn Theme</title>

    
    <link href="/css/nucleus.css?1699456591" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1699456591" rel="stylesheet">
    <link href="/css/hybrid.css?1699456591" rel="stylesheet">
    <link href="/css/featherlight.min.css?1699456591" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1699456591" rel="stylesheet">
    <link href="/css/auto-complete.css?1699456591" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1699456591" rel="stylesheet">
    <link href="/css/theme.css?1699456591" rel="stylesheet">
    <link href="/css/tabs.css?1699456591" rel="stylesheet">
    <link href="/css/hugo-theme.css?1699456591" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1699456591"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/submission/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/'>
	<strong>Carla RAI Challenge</strong>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1699456591"></script>
<script type="text/javascript" src="/js/auto-complete.js?1699456591"></script>
<script type="text/javascript">
    
        var baseurl = "\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1699456591"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/basics/" title="RAI Leaderboard" class="dd-item
        
        
        
        ">
      <a href="/basics/">
          <b>1. </b>RAI Leaderboard
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/create/" title="Creating an Agent" class="dd-item
        
        
        
        ">
      <a href="/create/">
          <b>2. </b>Creating an Agent
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/submission/" title="Submitting an Agent" class="dd-item
        parent
        active
        
        ">
      <a href="/submission/">
          <b>3. </b>Submitting an Agent
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/terms/" title="Terms &amp; Conditions" class="dd-item
        
        
        
        ">
      <a href="/terms/">
          <b>4. </b>Terms &amp; Conditions
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>Links...</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/matcornic/hugo-theme-learn"><i class='fab fa-fw fa-github'></i> RAI Leaderboard</a>
              </li>
          
              <li>
                  <a class="padding" href="https://gohugo.io/"><i class='fas fa-microchip'></i> Eval AI</a>
              </li>
          
              <li>
                  <a class="padding" href="/showcase"><i class='fas fa-users'></i> Organisers</a>
              </li>
          
              <li>
                  <a class="padding" href="/credits"><i class='fas fa-user-tie'></i> Partners/Sponsors</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                  
                  
                  
                  <div id="top-github-link">
                    <a class="github-link" title='Edit this page' href="https://github.com/matcornic/hugo-theme-learn/edit/master/exampleSite/content/submission/_index.en.md" target="blank">
                      <i class="fas fa-code-branch"></i>
                      <span id="top-github-link-text">Edit this page</span>
                    </a>
                  </div>
                  
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='/'>Learn Theme for Hugo</a> > Submitting an Agent
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#general-steps">General steps</a>
      <ul>
        <li><a href="#1-create-a-dockerfile-to-build-your-agent">1. Create a dockerfile to build your agent</a></li>
        <li><a href="#11-ros-stacks">1.1 ROS Stacks</a></li>
        <li><a href="#2-build-your-agent-into-a-docker-image">2. Build your agent into a docker image</a></li>
        <li><a href="#3-register-a-new-user-at-eval-aihttpsevalai">3. Register a new user at <a href="https://eval.ai/">Eval AI</a></a></li>
        <li><a href="#4-create-a-new-team">4. Create a new team</a></li>
        <li><a href="#5-apply-to-the-carla-leaderboard">5. Apply to the CARLA Leaderboard</a></li>
        <li><a href="#6-make-your-submission">6. Make your submission</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Submitting an Agent
            </h1>
          

        



	
<div class="notices note" ><p>By submitting your agent to the CARLA Autonomous Driving Leaderboard you are accepting the terms of use.</p>
</div>

<h2 id="general-steps">General steps</h2>
<p>In order to create and submit your agent you should have a copy of the leaderboard project and scenario_runner. If this is not the case, please visit the Get started section first.</p>
<h3 id="1-create-a-dockerfile-to-build-your-agent">1. Create a dockerfile to build your agent</h3>
<p>In order for the CARLA leaderboard to evaluate your agent, it needs to be encapsulated within a docker image. For a successful one, you will have to be able to run your agent with the leaderboard inside your docker. You can either create your image from scratch, or follow the guidelines below:</p>
<ul>
<li>
<p>Create a new directory to host your code. For a submission to be valid, it is necessary to create this directory outside the <code>${LEADERBOARD_ROOT}</code>. We will refer to this directory as <code>${TEAM_CODE_ROOT}</code>.</p>
</li>
<li>
<p>Find the dockerfile at <code>${LEADERBOARD_ROOT}/scripts/Dockerfile.master</code>. This template serves as a starting point for users. Here all the dependecies needed for scenario runner and leaderboard have already been set up. Include the dependencies and additional packages required by your agent. We recommend you add the new commands in the area delimited by the tags <em>“BEGINNING OF USER COMMANDS” and “END OF USER COMMANDS”.</em></p>
</li>
<li>
<p>Update the variable <code>TEAM_AGENT</code> to set your agent file, i.e. the entry file that inherits from AutonomousAgent. <strong>Do not change the rest of the path “/workspace/team_code“</strong>. If your agent needs a configuration file for initialization, set the variable <code>TEAM_CONFIG</code> to the configuration file.</p>
</li>
</ul>
<p>Make sure anything you want to source is inside <code>${HOME}/agent_sources.sh</code> as sources added anywhere else will not be invoked. This file is automatically sourced before running the agent in the cloud.</p>

<div class="notices note" ><p>Please take note that any changes you make to the Leaderboard or Scenario Runner repositories will be overwritten when you submit your entry to the cloud.</p>
</div>

<h3 id="11-ros-stacks">1.1 ROS Stacks</h3>
<p>As stated above, all sources have to be inside <code>${HOME}/agent_sources.sh</code>. In order to source ROS, you can add the following command to your Dockerfile, which creates the file and sources the ROS environment:</p>
<pre><code>RUN /bin/echo \
  'source /opt/ros/$ROS_DISTRO/setup.bash; \
  source $TEAM_CODE_ROOT/install/setup.bash;' &gt;&gt; ${HOME}/agent_sources.sh
</code></pre>
<div class="notices note" ><p>This is a template to source the ROS environment and your agent. Feel free to modify it in case your setup is different</p>
</div>

<h3 id="2-build-your-agent-into-a-docker-image">2. Build your agent into a docker image</h3>
<p>Once the dockerfile is ready, make sure that all the needed environment variables are correctly defined, i.e. <code>${CARLA_ROOT}</code>, <code>${SCENARIO_RUNNER_ROOT}</code>, <code>${LEADERBOARD_ROOT}</code>, and <code>${TEAM_CODE_ROOT}</code>. The simplest way to do so is to add them to your <code>${HOME}/.bashrc</code> file.</p>
<pre><code>export CARLA_ROOT=...
export SCENARIO_RUNNER_ROOT=...
export LEADERBOARD_ROOT=...
export TEAM_CODE_ROOT=...
</code></pre><p>Feel free to adjust this script to copy additional files and resources as you see fit.</p>
<p>Then, invoke the <code>make_docker.sh</code> utility as follows:</p>
<pre><code>${LEADERBOARD_ROOT}/scripts/make_docker.sh
</code></pre><p>This will generate your docker image, creating the docker image under the name leaderboard-user.</p>

<div class="notices note" ><p>You can test your docker image by running the leaderboard locally at your computer</p>
</div>

<h3 id="3-register-a-new-user-at-eval-aihttpsevalai">3. Register a new user at <a href="https://eval.ai/" target="_blank" rel="noopener">Eval AI</a></h3>
<p>Our partners at <a href="https://eval.ai/" target="_blank" rel="noopener">Eval AI</a> have developed the user interface for the leaderboard. To make a submission you need to register a user on the website. <strong>Make sure to fill in your affiliation, otherwise you may not be accepted to participate in the challenge.</strong></p>
<h3 id="4-create-a-new-team">4. Create a new team</h3>
<p>After registering a user at <a href="https://eval.ai/" target="_blank" rel="noopener">Eval AI</a> create a new team by clicking in the <strong>Participant Teams</strong> section as shown below. All participants need to register a team in the RAI CARLA Leaderboard.
<img src="/images/submission/evalteam.jpg" alt="Team Creation"></p>
<h3 id="5-apply-to-the-carla-leaderboard">5. Apply to the CARLA Leaderboard</h3>
<p>Go to the <strong>All Challenges</strong> section and find the CARLA Leaderboard challenge, or use <a href="#">this link</a> REMEBER TO UPDATE LINK. Select <strong>Participate</strong>, then choose one of your participant teams to apply to the challenge. <strong>You will need to wait for your team to be verified by the RAI CARLA Leaderboard admins.</strong> Once your team is verified, you can start to make submissions.
<img src="/images/submission/benchmarksection.jpg" alt="Benchmark"></p>
<h3 id="6-make-your-submission">6. Make your submission</h3>
<p>Once your team has been verified, you will be able to submit. In the Overview tab you will find general information about the CARLA leaderboard, got to the <strong>Submit</strong> section to make your submission. There you will find instructions to submit.</p>
<p>You will need to install the EvalAI CLI with pip:</p>
<pre><code>pip install evalai
</code></pre><p>Next, you need to identify your user with your token using the following command:</p>
<pre><code>evalai set_token &lt;token&gt;
</code></pre><p>You can retrieve your token from the <strong>Submit</strong> section of the EvalAI website. You may copy and paste the command directly from the submission instructions:
<img src="/images/submission/clisubmission.jpg" alt="CLI Submission"></p>

<div class="notices note" ><p>Please note that the token is specific to your user, each user will see a different token in this section of the website. Do not share tokens or there will be confusion over the submission author.</p>
</div>

<p>Use the following command to push your Docker image:</p>
<pre><code>evalai push &lt;image&gt;:&lt;tag&gt;
</code></pre><p>Congratulations! You have now made a submission to the RAI CARLA Leaderboard challenge.</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/create/" title="Creating an Agent"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/terms/" title="Terms &amp; Conditions" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1699456591"></script>
    <script src="/js/perfect-scrollbar.min.js?1699456591"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1699456591"></script>
    <script src="/js/jquery.sticky.js?1699456591"></script>
    <script src="/js/featherlight.min.js?1699456591"></script>
    <script src="/js/highlight.pack.js?1699456591"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1699456591"></script>
    <script src="/js/learn.js?1699456591"></script>
    <script src="/js/hugo-learn.js?1699456591"></script>
    
        
            <script src="https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-105947713-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
